{"version":3,"sources":["webpack:///src/app/finalizar/finalizar.page.html","webpack:///src/app/finalizar/finalizar-routing.module.ts","webpack:///src/app/finalizar/finalizar.module.ts","webpack:///src/app/finalizar/finalizar.page.scss","webpack:///src/app/finalizar/finalizar.page.ts"],"names":["routes","path","component","FinalizarPageRoutingModule","imports","forChild","exports","FinalizarPageModule","declarations","FinalizarPage","storage","actRouter","router","provider","toast","lista","getItem","then","res","dadosLogin","cpf","listarCarrinho","listarClientes","listarLocais","navigate","Promise","resolve","dados","requisicao","dadosApi","subscribe","data","ionViewWillEnter","total_carrinho","frete","subtotal","subtotal2","total_itens","previsao","rua","numero","bairro","texto","create","message","duration","color","present","obs","troco","tipo","total","mensagemSalvar","item","push","selector","template"],"mappings":"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","file":"finalizar-finalizar-module-es5.js","sourcesContent":["export default \"<ion-header >\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\" (click)=\\\"Carrinho()\\\">\\n      <ion-button>\\n        <ion-icon  name=\\\"arrow-back\\\"> </ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Finalizar Pedido</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content class=\\\"ion-padding\\\">\\n<ion-item >\\n  <ion-label>Tipo Pagamento</ion-label>\\n  <ion-select placeholder=\\\"Selecione\\\" [(ngModel)]=\\\"tipo\\\" >\\n    <ion-select-option  value=\\\"Dinheiro\\\">Dinheiro</ion-select-option>\\n    <ion-select-option  value=\\\"Cartão de Débito\\\">Cartão de Débito</ion-select-option>\\n    <ion-select-option  value=\\\"Cartão de Crédito\\\">Cartão de Crédito</ion-select-option>   \\n  </ion-select>\\n</ion-item>\\n\\n<ion-item *ngIf=\\\"tipo === 'Dinheiro'\\\">\\n  <ion-label position=\\\"floating\\\">\\n    Total para o Troco\\n  </ion-label>\\n  <ion-input [(ngModel)]=\\\"troco\\\"></ion-input>\\n\\n \\n</ion-item>\\n\\n\\n<ion-row>\\n  <ion-col size=\\\"9\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">\\n        Rua\\n      </ion-label>\\n      <ion-input [(ngModel)]=\\\"rua\\\"></ion-input>\\n  \\n     \\n    </ion-item>\\n  </ion-col>\\n\\n  <ion-col size=\\\"3\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">\\n        Número\\n      </ion-label>\\n      <ion-input [(ngModel)]=\\\"numero\\\"></ion-input>\\n  \\n      \\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n\\n\\n  \\n\\n  <ion-item >\\n    <ion-label>Bairro</ion-label>\\n    <ion-select placeholder=\\\"Selecione\\\" [(ngModel)]=\\\"bairro\\\" >\\n      <ion-select-option *ngFor=\\\"let item of lista\\\" value=\\\"{{item.nome}}\\\">{{item.nome}}</ion-select-option>\\n          \\n    </ion-select>\\n  </ion-item>\\n\\n\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Tirar o Picles / etc</ion-label>\\n    <ion-textarea [(ngModel)]=\\\"obs\\\"></ion-textarea>\\n  </ion-item>\\n \\n\\n  <ion-button color=\\\"primary\\\" expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"finalizar()\\\">\\n    Salvar\\n  </ion-button>\\n\\n \\n\\n</ion-content>\\n\\n\\n\\n<ion-footer>\\n \\n\\n  <ion-grid>\\n   \\n      <ion-row>\\n        <ion-col >\\n         \\n          <h6><ion-icon color=\\\"primary\\\" name=\\\"bicycle\\\"></ion-icon>\\n            Entrega: {{previsao}} Minutos</h6>\\n         \\n        </ion-col>\\n  \\n        <ion-col>\\n        \\n         \\n          <h6><ion-icon color=\\\"success\\\" name=\\\"card\\\"></ion-icon>\\n            Sub-Total: R$ {{subtotal2}}</h6>\\n        \\n        \\n        </ion-col>\\n  \\n        </ion-row>\\n\\n    \\n      \\n      </ion-grid>\\n\\n\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FinalizarPage } from './finalizar.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FinalizarPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FinalizarPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FinalizarPageRoutingModule } from './finalizar-routing.module';\n\nimport { FinalizarPage } from './finalizar.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FinalizarPageRoutingModule\n  ],\n  declarations: [FinalizarPage]\n})\nexport class FinalizarPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZpbmFsaXphci9maW5hbGl6YXIucGFnZS5zY3NzIn0= */\";","import { Post } from './../services/post.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\nimport { AlertController, ToastController } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-finalizar',\n  templateUrl: './finalizar.page.html',\n  styleUrls: ['./finalizar.page.scss'],\n})\nexport class FinalizarPage implements OnInit {\n\n  total_carrinho : string;\n  total_itens : string;\n  dadosLogin : any;\n\n  frete : string;\n  subtotal : string;\n  subtotal2 : string;\n  previsao: string;\n\n  rua: string;\n  numero: string;\n  bairro: string;\n\n  tipo: string;\n  troco: string;\n  obs: string;\n\n  cpf: string;\n\n  lista : any = [];\n\n  constructor( private storage: NativeStorage, private actRouter: ActivatedRoute, private router: Router, private provider:Post, public toast: ToastController) { }\n\n  ngOnInit() {\n    \n  }\n\n  \n  \n  ionViewWillEnter(){\n\n    this.storage.getItem('session_storage').then((res)=>{\n      this.dadosLogin = res;\n      this.cpf = this.dadosLogin.cpf;\n     \n      \n    }); \n   // this.cpf = '777.777.777-77';\n    this.listarCarrinho();\n    this.listarClientes();\n    this.listarLocais();\n    this.lista = [];\n    \n  }\n\n  Carrinho(){\n    this.router.navigate(['/carrinho']);\n  }\n\n\n\n  \nlistarCarrinho(){\n\n   return new Promise(resolve => {\n\n  let dados = {\n    requisicao : 'listar-carrinho',\n    cpf :this.cpf, \n    };\n\n    this.provider.dadosApi(dados, 'apiProdutos.php').subscribe(data => {\n\n        \n          \n          if(data['result'] == '0') {\n            this.ionViewWillEnter();\n          }else{\n                       \n              this.total_carrinho = data['total'];\n              this.frete = data['frete'];\n              this.subtotal = data['subtotal'];\n              this.subtotal2 = data['subtotal2'];\n              this.total_itens = data['totalItens'];\n              this.previsao = data['previsao'];\n            \n          }\n         \n             \n      resolve(true);\n      \n  });\n\n});\n  \n}\n\n\n\nlistarClientes(){\n  return new Promise(resolve => {\n\n  let dados = {\n    requisicao : 'listar-clientes',\n    cpf :this.cpf, \n    };\n\n    this.provider.dadosApi(dados, 'apiProdutos.php').subscribe(data => {\n\n        \n          \n          if(data['result'] == '0') {\n            this.ionViewWillEnter();\n          }else{\n           \n           \n              this.rua = data['rua'];\n              this.numero = data['numero'];\n              this.bairro = data['bairro'];\n              \n           \n          }\n         \n             \n      resolve(true);\n      \n  });\n\n});\n  \n}\n\n\n\nasync mensagemSalvar(texto) {\n  const toast = await this.toast.create({\n    message: texto,\n    duration: 2000,\n    color: 'primary'\n  });\n  toast.present();\n}\n\n\n\n\nfinalizar(){\n  return new Promise(resolve => {\n        \n    let dados = {\n      requisicao : 'finalizar-pedido',\n      cpf : this.cpf,\n      rua : this.rua,\n      numero : this.numero,\n      bairro : this.bairro,\n      obs : this.obs,\n      troco : this.troco,\n      tipo : this.tipo,\n      total: this.subtotal,\n      };\n\n      this.provider.dadosApi(dados, 'apiProdutos.php').subscribe(data => {\n        \n        \n          this.mensagemSalvar(data['texto']);\n\n          if(data['texto'] === 'Pedido Concluído!'){\n            this.router.navigate(['/pedidos']);\n          }\n          \n         \n        \n      });\n  });\n}\n\n\nlistarLocais(){\n  return new Promise(resolve => {\n\n  let dados = {\n    requisicao : 'listar-locais',\n   \n    };\n\n    this.provider.dadosApi(dados, 'apiLogin.php').subscribe(data => {\n\n      if(data['result'] == '0') {\n        this.ionViewWillEnter();\n      }else{\n        this.lista = [];\n        for(let item of data['result']){\n          this.lista.push(item);\n                      \n        }\n      }\n       \n      resolve(true);\n      \n  });\n\n});\n  \n}\n\n\n\n}\n"]}